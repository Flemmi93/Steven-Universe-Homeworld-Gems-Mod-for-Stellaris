@forced_weight = 100

#New Kindergarten Decision
f93_make_kindergarten = {
	owned_planets_only = yes
	icon = decision_kindergarten
	enactment_time = 360
		resources = {
			category = decisions
			cost = {
				influence = 75
			}
		}
	potential = {
		owner = {
			is_geo_empire = yes
		}
	}
	allow = {
		num_free_districts = {
			type = district_farming
			value > 0
		}
		NOT = {
			colony_type = col_farming
		}
	}
	effect = {
		add_deposit = d_kindergarten
	}

	ai_weight = {
		weight = 1
		modifier = {
			add = -1000
			colony_type = col_farming
			OR = {
				has_deposit = d_kindergarten
				num_pops < 10
			}
		}
		modifier = {
			add = @forced_weight
			count_deposits = {
				count < 1
				type = d_kindergarten
			}
		}
		modifier = {
			add = @forced_weight
			count_deposits = {
				count < 2
				type = d_kindergarten
			}
			NOT = { colony_type = col_default }
		}
		modifier = {
			add = @forced_weight
			count_deposits = {
				count < 3
				type = d_kindergarten
			}
			NOT = { colony_type = col_default }
		}
		modifier = {
			add = @forced_weight
			count_deposits = {
				count < 4
				type = d_kindergarten
			}
			NOT = { colony_type = col_default }
		}
	}
}
#Wenkwort Custodian varriance
decision_gem_wenkwort_defiler = {
	owned_planets_only = yes
	icon = decision_burning_settlement
	sound = event_air_raid_siren
	
	potential = {
		has_modifier = pm_wenkwort_custodian
		owner = {
			is_geo_empire = yes
		}
	}
	
	effect = {
		remove_modifier = pm_wenkwort_custodian
		owner = { country_event = { id = gem_kg.3 } } # removing the wenkwort_custodian country flag
		planet_event = { id = federations3.130 }
	}
}

#Make planet a Gemworld
decision_gemcology_project = {
	owned_planets_only = yes
	icon = decision_arcology_project

	enactment_time = 360
	resources = {
		category = decisions
		cost = {
			influence = 100
			minerals = 10000
			alloys = 500
		}
	}

	potential = {
		NOR = {
			is_planet_class = pc_city
			is_planet_class = pc_relic
			#is_planet_class = pc_gem
			is_planet_class = pc_gemworld
			has_modifier = resort_colony
			has_modifier = penal_colony
			has_modifier = slave_colony
			has_modifier = pm_wenkwort_custodian
		}
		is_artificial = no
		exists = owner
		owner = {
			is_geo_empire = yes
		}
	}

	allow = {
		hidden_trigger = {
			num_free_districts = {
				type = district_farming
				value = 0
			}
			num_districts = {
				type = district_farming
				value = 0
			}
		}
		
		custom_tooltip = decision_gemcology_project_requirements
		num_uncleared_blockers < 1
		owner = { has_technology = tech_terrestrial_sculpting }
	}

	effect = { # Make Gemworld
		change_pc = pc_gemworld

		hidden_effect = {
			if = {
				limit = {
					has_planet_flag = gem_has_kindergarten
				}
				remove_planet_flag = gem_has_kindergarten
			}
			if = {
				limit = {
					NOT = { has_planet_flag = gem_has_kindergarten2 }
				}
				set_planet_flag = gem_has_kindergarten2
			}
		}
	}
}

galaxy_warp = {
	owned_planets_only = yes
	icon = decision_galaxy_warp
	enactment_time = 720
	resources = {
		category = decisions
		cost = {
			energy = 750
			alloys = 150
		}
	}
	potential = {
		owner = {
			is_ai = no
			is_geo_empire = yes
		}
		NOT = { has_deposit = d_galaxy_warp } 
	}
	
	effect = {
		random_deposit = { 
			limit = { has_deposit = d_galaxy_warp_damaged }
			clear_blocker = yes
		}
		add_deposit = d_galaxy_warp
		last_added_deposit = { set_deposit_flag = f93_gem_deposit }
	}
}


galaxy_warp_ai = {
	owned_planets_only = yes
	icon = decision_galaxy_warp
	enactment_time = 720
	resources = {
		category = decisions
	}
	potential = {
		owner = {
			is_ai = yes
			is_geo_empire = yes
		}
		NOT = { has_deposit = d_galaxy_warp } 
	}
	
	effect = {
		random_deposit = { 
			limit = { has_deposit = d_galaxy_warp_damaged }
			clear_blocker = yes
		}
		add_deposit = d_galaxy_warp
		last_added_deposit = { set_deposit_flag = f93_gem_deposit }
	}
}

